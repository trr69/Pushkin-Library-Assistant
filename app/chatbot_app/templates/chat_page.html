{% extends 'base.html' %}

{% load static %}

{% block content %}
    <div class="page-container">

        <main class="chat-container">
            <flowise-fullchatbot></flowise-fullchatbot>
        </main>
    </div>
    <!-- 
    На время сделал статичным chatFlowId и apiHost
    -->

    <script type="module">
        import Chatbot from "https://cdn.jsdelivr.net/gh/HenryHengZJ/FlowiseChatEmbed-Test/dist/web.js"
        Chatbot.initFull({
            chatflowid: "d86144c7-026f-4a69-867e-cea2495bc0b5",
            apiHost: "http://127.0.0.1:3000",
            theme: {
                chatWindow: {
                    showTitle: true,
                    welcomeMessage: 'Привет',
                    errorMessage: 'This is a custom error message',
                    backgroundColor: "transparent",
                    fontSize: 16,
                    poweredByTextColor: "transparent",
                    botMessage: {
                        backgroundColor: "#2D4273",
                        textColor: "#ffffff",
                        showAvatar: true,
                        avatarSrc: "https://raw.githubusercontent.com/zahidkhawaja/langchain-chat-nextjs/main/public/parroticon.png",
                    },
                    userMessage: {
                        backgroundColor: "#4CAF50",
                        textColor: "#ffffff",
                        showAvatar: true,
                        avatarSrc: "https://raw.githubusercontent.com/zahidkhawaja/langchain-chat-nextjs/main/public/usericon.png",
                    },
                    textInput: {
                        placeholder: 'Type your question',
                        backgroundColor: '#ffffff',
                        textColor: '#000000',
                        sendButtonColor: '#4CAF50',
                        maxChars: 300,
                        maxCharsWarningMessage: 'You exceeded the characters limit. Please input less than 300 characters.',
                        autoFocus: true,
                    },
                    feedback: {
                        color: '#000000',
                    },
                }
            }
        })
    </script>
{% endblock %}
