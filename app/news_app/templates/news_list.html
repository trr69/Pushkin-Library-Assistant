{% extends 'base.html' %}
{% load static %}
<!-- templates/news_list.html -->

{% block content_css %}

    <link rel="stylesheet" href="{% static 'css/news.css' %}"/>
{% endblock %}
{% block content %}
    <h1>Новости</h1>


    <div class="container">
        {% for news_item in news %}
            <div class="card">
                {% if news_item.main_image %}
                    <div class="card-header">
                    <img src="{{ news_item.main_image.url }}" alt="{{ news_item.title }}" class="card-image">
                {% endif %}
                </div>
                <div class="card-body">
                    <h5>{{ news_item.title }}</h5>

                    <p>
                        {% if LANGUAGE_CODE == 'ru' %}
                            {{ news_item.content_ru|truncatewords:20 }}
                        {% elif LANGUAGE_CODE == 'en' %}
                            {{ news_item.content_eng|truncatewords:20 }}
                        {% else %}
                            {{ news_item.content_kz|truncatewords:20 }}
                        {% endif %}
                    </p>
                </div>
                <div class="card-footer-button">
                    <a href="{% url 'news_detail' slug=news_item.slug %}">
                        <button>читать далее</button>
                    </a>
                </div>
                {#                        Опубликовано: {{ news_item.pub_date|date:"d M Y" }}#}

            </div>

        {% endfor %}
    </div>
    </div>
{% endblock %}
