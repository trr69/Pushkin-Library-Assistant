# Бэкенд Сайта Библиотеки Пушкина

---

# Установка и настройка

## Склонируйте репозиторий:

```sh
git clone https://github.com/trr69/Pushkin-Library-Assistant.git
cd Pushkin-Library-Assistant
```

## Создайте виртуальное окружение и активируйте его:

```sh
python -m venv venv
source venv/bin/activate  # Для Windows: cd venv\Scripts\activate
```

## Установите зависимости:


```sh
pip install -r requirements.txt
```

## Настройте файл .env:

```text
DEBUG=False
SECRET_KEY=<django-secret-key> # https://djecrety.ir/
DATABASE_NAME=db.sqlite3
FLOWISE_CHATFLOW=<id чата фловайса>
FLOWISE_HOST=<Хост фловайса>
```

## Примените миграции:

```sh
python manage.py migrate
```

## Запустите сервер разработки:

```sh
python manage.py runserver
```

---

## Структура проекта

- base/ - главный модуль проекта
  - manage.py - главный скрипт управления проектом.
  - settings.py - настройки проекта.
  - urls.py - маршрутизация URL.
  - models.py - определение моделей данных.
  - views.py - представления приложения.

- core/ - главное приложение

- app/ - тут содержатся все приложения
  - api/ - Работа с книгами (Ирбис)
    - Это приложение отвечает за взаимодействие с системой Ирбис для работы DOSAI.
    - Основные функции: поиск книг и выдача DOSAI

  - chatbot_app/ - Приложение чат-бот
    - Это приложение реализует функциональность чат-бота для взаимодействия с пользователями(Отдельная страница).
    - Основные функции: ответы на часто задаваемые вопросы, помощь в навигации по сайту, предоставление информации о
      доступных книгах и услугах.

  - courses_app/ - Приложение для курсов
    - Это приложение управляет библиотечными курсами.
    - Основные функции: создание и управление курсами.

  - events_app/ - Приложение для событий
    - Это приложение управляет событиями и мероприятиями, проводимыми библиотекой.
    - Основные функции: создание и управление событиями.

  - new_book_app/ - Приложение для добавления новинок книг
    - Это приложение отвечает за добавление новых поступлений книг в библиотеку.
    - Основные функции: добавление информации о новых книгах.

  - news_app/ - Приложение для новостей
    - Это приложение отвечает за публикацию новостей и объявлений библиотеки.
    - Основные функции: создание и управление новостями.

  - time_app/ - Приложение для изменения расписания графика
    - Это приложение управляет расписанием работы и отдыха библиотеки.
    - Основные функции: управление расписанием работы библиотеки.

- templates/ - шаблоны HTML для рендеринга страниц.
- static/ - статические файлы (CSS, JavaScript, изображения).
- conf/locale - конфигурация переводов
  - en - английская локализация.
  - kk - казахская локализация.
  - ru - русская локализация.
- database/ - файлы базы данных проекта.
- media/ - Хранения загружаемых пользователями файлов.

---

# Flowise

## Установка и настройка

### Скачайте и установите NodeJS версии >= 18.15.0

### Установите Flowise

 Для установки Flowise выполните следующую команду:

```sh
npm install -g flowise
```

### Запуск Flowise

Для запуска Flowise используйте следующую команду:

```sh
npx flowise start
```

### Запуск Flowise с использованием имени пользователя и пароля

Если требуется запустить Flowise с использованием имени пользователя и пароля, используйте следующую команду:

```sh
npx flowise start --FLOWISE_USERNAME=user --FLOWISE_PASSWORD=1234
```

### Откройте Flowise в браузере

После запуска Flowise, откройте браузер и перейдите по адресу:

http://localhost:3000

----


# Frontend

## Построенный проект

Построенный проект уже находится в следующем каталоге:

- build/
  - css/
  - js/
  - img/


# Работа с Django


---

## Работа с Переводами

### Создание переводов

Для создания переводов используйте следующую команду:

```sh
django-admin makemessages -d djangojs -l en
```

Эта команда создаст файл перевода для английского языка.

### Компиляция переводов

После внесения изменений в файлы переводов, выполните компиляцию:

```sh
django-admin compilemessages
```

Эта команда скомпилирует переводы, чтобы они могли быть использованы в вашем приложении.
